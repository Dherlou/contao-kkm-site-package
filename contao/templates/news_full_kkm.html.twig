{% block news_full_kkm %}
    <div class="layout_full block{{ class|default('') }}">
        {% block news_full_info %}
            <p class="info">
                {% set dateTimeParts = date|split(' ') %}
                <time datetime="{{ datetime }}">{{ dateTimeParts[0]|kkm_datetime(dateTimeParts[1] ?? null, time|kkm_weekday_from_tstamp) }}</time> {{ author }}
            </p>
        {% endblock %}

        {% block news_full_subheadline %}
            {% if hasSubHeadline|default(false) %}
                <div class="subheadline">{{ subHeadline }}</div>
            {% endif %}
        {% endblock %}

        {% block news_full_headline %}
            <h1>{{ newsHeadline }}</h1>
        {% endblock %}

        {% block news_full_tags %}
            {% if tags|default([]) %}
                {% set listPage = kkm_tags_load_list_page(contao.page) %}
                <div class="tags mt-10">
                    {% for tag in tags %}
                        <a href="{{ path(
                            'tl_page.' ~ listPage.id,
                            {tag}
                        ) }}">
                            <div class="chip">{{ tag }}</div>
                        </a>
                    {% endfor %}
                </div>
            {% endif %}
        {% endblock %}

        {% block news_full_content %}
            {% if hasText|default(false) %}
                {{ text|raw }}
            {% else %}
                <div class="ce_text block">
                    {{ teaser|raw }}
                </div>
            {% endif %}
        {% endblock %}

        {% block news_full_enclosure %}
            {% if enclosure|default([]) %}
                <div class="content-downloads">
                    <ul class="enclosure">
                        {% for enclosure_item in enclosure %}
                            <li class="download-element ext-{{ enclosure_item.extension }}">
                                <a href="{{ enclosure_item.href }}" title="{{ enclosure_item.title }}">
                                    {{ enclosure_item.link }}
                                    <span class="size">({{ enclosure_item.filesize }})</span>
                                </a>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
        {% endblock %}
    </div>
{% endblock %}

{# schema org #}

{% set schemaOrg = {'@type': 'WebPage'} %}

{% if hasText %}
    {% set schemaOrg = schemaOrg|merge({
        'text': text|kkm_html_to_plain_text
    }) %}
{% endif %}

{% if figure %}
    {% set schemaOrg = schemaOrg|merge({
        'primaryImageOfPage': figure.schemaOrgData
    }) %}
{% endif %}
 
{% do add_schema_org(schemaOrg) %}
